<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Discord Emoji Downloader</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}.container{background:white;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,0.2);max-width:700px;width:100%;padding:40px}.header{display:flex;align-items:center;margin-bottom:30px;gap:15px}.logo{width:50px;height:50px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px}.header-text h1{font-size:24px;color:#333}.step-title{font-size:28px;font-weight:bold;color:#333;margin-bottom:10px;text-align:center}.step-description{text-align:center;color:#666;margin-bottom:30px}.warning{background:#fff3cd;border-left:4px solid #ffc107;padding:15px;margin-bottom:25px;border-radius:4px}.btn{width:100%;padding:14px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;margin-bottom:10px}.btn:hover{transform:translateY(-2px);box-shadow:0 5px 20px rgba(102,126,234,0.4)}.btn-back{background:#6c757d;width:auto;margin-top:10px;padding:10px 20px}.hidden{display:none!important}.emojis-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;max-height:400px;overflow-y:auto;border:1px solid #ddd;border-radius:6px;padding:15px;margin-bottom:20px}.emoji-item{display:flex;flex-direction:column;align-items:center;padding:12px;border-radius:6px;background:#f8f9fa;border:2px solid transparent;cursor:pointer}.emoji-item.selected{background:#e7f3ff;border-color:#667eea}.emoji-image{width:40px;height:40px;margin-bottom:5px}.emoji-name{font-size:11px;color:#666;text-align:center}.btn-group{display:flex;gap:10px;margin-bottom:15px}input[type="password"],input[type="text"]{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;margin-bottom:10px;font-size:13px}.error{color:#dc3545;margin-bottom:15px}.loading{color:#667eea}.servers-list{max-height:400px;overflow-y:auto}.server-item{display:flex;align-items:center;padding:12px;border-radius:6px;margin-bottom:10px;background:#f8f9fa}.preview-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;max-height:500px;overflow-y:auto;border:1px solid #ddd;border-radius:6px;padding:15px;margin-bottom:20px}.preview-item{display:flex;flex-direction:column;align-items:center;padding:12px;border-radius:6px;background:#f8f9fa}.preview-item-image{width:50px;height:50px;margin-bottom:5px}.section-title{font-weight:600;margin-top:20px;margin-bottom:10px;color:#333}.step-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.counter{font-size:14px;color:#666;font-weight:500}</style></head><body><div class="container"><div class="header"><div class="logo">ðŸŽ­</div><div class="header-text"><h1>Discord Emoji Downloader</h1><p>Descarga emojis & stickers de tus servidores</p></div></div><div id="step-token" class="step"><h2 class="step-title">Paso 1: Autenticacion</h2><p class="step-description">Ingresa tu token de usuario de Discord para acceder a tus servidores</p><div class="warning"><strong>Advertencia de seguridad:</strong> Tu token solo se usa para obtener la lista de tus servidores y sus emojis/stickers. No se almacena en ningun servidor y permanece unicamente en tu navegador durante esta sesion.</div><label>Token de Usuario Discord</label><input type="password" id="token" placeholder="Pega tu token aqui..." autocomplete="off"><small>Puedes obtener tu token desde las herramientas de desarrollador de Discord</small><div id="error" class="error"></div><button class="btn" onclick="validateAndContinue()">Continuar</button><div id="loading" class="loading hidden">Verificando token...</div></div><div id="step-servers" class="step hidden"><h2 class="step-title">Paso 2: Selecciona Servidor</h2><p class="step-description">Elige el servidor del que deseas descargar emojis y stickers</p><label>Tus Servidores</label><div id="servers-list" class="servers-list"></div><div id="error-servers" class="error"></div><button class="btn" onclick="proceedToEmojis()">Continuar</button><button class="btn btn-back" onclick="goBack()">Atras</button><div id="loading-servers" class="loading hidden">Cargando servidores...</div></div><div id="step-emojis" class="step hidden"><h2 class="step-title">Paso 3: Selecciona Emojis</h2><p class="step-description">Elige los emojis que deseas descargar</p><p id="server-info" style="text-align:center;margin-bottom:15px;color:#666">Servidor: -</p><div class="step-header"><div><span id="total-emojis">Total de emojis: 0</span></div><div class="btn-group"><button class="btn" style="width:auto;padding:8px 15px;font-size:14px" onclick="selectAllEmojis()">Seleccionar todos</button><button class="btn" style="width:auto;padding:8px 15px;font-size:14px" onclick="deselectAllEmojis()">Desmarcar todos</button></div></div><div id="emojis-grid" class="emojis-grid"></div><p id="emoji-selected-count" class="counter">Selecciona emojis</p><div id="error-emojis" class="error"></div><button class="btn" onclick="proceedToStickers()">Continuar</button><button class="btn btn-back" onclick="backToServers()">Atras</button><div id="loading-emojis" class="loading hidden">Cargando emojis...</div></div><div id="step-stickers" class="step hidden"><h2 class="step-title">Paso 4: Selecciona Stickers</h2><p class="step-description">Elige los stickers que deseas descargar</p><p id="server-info-stickers" style="text-align:center;margin-bottom:15px;color:#666">Servidor: -</p><div class="step-header"><div><span id="total-stickers">Total de stickers: 0</span></div><div class="btn-group"><button class="btn" style="width:auto;padding:8px 15px;font-size:14px" onclick="selectAllStickers()">Seleccionar todos</button><button class="btn" style="width:auto;padding:8px 15px;font-size:14px" onclick="deselectAllStickers()">Desmarcar todos</button></div></div><div id="stickers-grid" class="emojis-grid"></div><p id="sticker-selected-count" class="counter">Selecciona stickers</p><div id="error-stickers" class="error"></div><button class="btn" onclick="proceedToPreview()">Continuar</button><button class="btn btn-back" onclick="backToEmojis()">Atras</button><div id="loading-stickers" class="loading hidden">Cargando stickers...</div></div><div id="step-preview" class="step hidden"><h2 class="step-title">Paso 5: Vista Previa</h2><p class="step-description">Vista previa de tu descarga</p><p id="server-info-preview" style="text-align:center;margin-bottom:15px;color:#666">Servidor: -</p><h3 class="section-title">Emojis (<span id="preview-emoji-count">0</span>)</h3><div id="preview-emojis-list" class="preview-grid"></div><h3 class="section-title">Stickers (<span id="preview-sticker-count">0</span>)</h3><div id="preview-stickers-list" class="preview-grid"></div><button class="btn" onclick="downloadAsZip()">Descargar ZIP</button><button class="btn btn-back" onclick="backToStickers()">Atras</button></div></div><script>let currentToken='';let selectedServer=null;let selectedEmojis=new Set();let selectedStickers=new Set();let allEmojis=[];let allStickers=[];async function validateAndContinue(){const token=document.getElementById('token').value.trim();const errorDiv=document.getElementById('error');const loading=document.getElementById('loading');const btn=event.target;errorDiv.textContent='';if(!token){errorDiv.textContent='Por favor ingresa tu token de Discord';return}if(token.length<50){errorDiv.textContent='El token parece ser invalido';return}currentToken=token;loading.classList.remove('hidden');btn.disabled=true;try{const response=await fetch('https://discord.com/api/v10/users/@me',{headers:{'Authorization':token,'Content-Type':'application/json'}});if(!response.ok)throw new Error('Token invalido');await response.json();sessionStorage.setItem('discord_token',token);loadServers()}catch(error){errorDiv.textContent='Token invalido o error de conexion';loading.classList.add('hidden');btn.disabled=false}}async function loadServers(){document.getElementById('step-token').classList.add('hidden');document.getElementById('step-servers').classList.remove('hidden');const loading=document.getElementById('loading-servers');loading.classList.remove('hidden');const errorDiv=document.getElementById('error-servers');errorDiv.textContent='';try{const response=await fetch('https://discord.com/api/v10/users/@me/guilds',{headers:{'Authorization':currentToken,'Content-Type':'application/json'}});if(!response.ok)throw new Error('Error');const guilds=await response.json();loading.classList.add('hidden');displayServers(guilds)}catch(error){errorDiv.textContent='Error: '+error.message;loading.classList.add('hidden')}}function displayServers(servers){const serversList=document.getElementById('servers-list');serversList.innerHTML='';servers.forEach(server=>{const div=document.createElement('div');div.className='server-item';const iconUrl=server.icon?`https://cdn.discordapp.com/icons/${server.id}/${server.icon}.png`:null;const icon=document.createElement('div');if(iconUrl){const img=document.createElement('img');img.src=iconUrl;img.style.cssText='width:40px;height:40px;border-radius:50%;margin-right:12px;';icon.appendChild(img)}else{const circle=document.createElement('div');circle.style.cssText='width:40px;height:40px;border-radius:50%;margin-right:12px;background:#667eea;color:white;display:flex;align-items:center;justify-content:center;font-weight:bold;';circle.textContent=server.name.charAt(0).toUpperCase();icon.appendChild(circle)}const radio=document.createElement('input');radio.type='radio';radio.name='server';radio.value=server.id;radio.onchange=()=>updateSelection(server.id,server.name);icon.appendChild(radio);const info=document.createElement('div');info.innerHTML=`<div style="font-weight:600;color:#333;">${server.name}</div><div style="font-size:12px;color:#999;">ID: ${server.id}</div>`;div.appendChild(radio);div.appendChild(icon);div.appendChild(info);serversList.appendChild(div)})}function updateSelection(serverId,serverName){selectedServer={id:serverId,name:serverName}}function proceedToEmojis(){if(!selectedServer){document.getElementById('error-servers').textContent='Debes seleccionar un servidor';return}document.getElementById('step-servers').classList.add('hidden');document.getElementById('step-emojis').classList.remove('hidden');document.getElementById('server-info').textContent=`Servidor: ${selectedServer.name}`;loadEmojis()}async function loadEmojis(){const loading=document.getElementById('loading-emojis');loading.classList.remove('hidden');const errorDiv=document.getElementById('error-emojis');errorDiv.textContent='';try{const response=await fetch(`https://discord.com/api/v10/guilds/${selectedServer.id}`,{headers:{'Authorization':currentToken,'Content-Type':'application/json'}});if(!response.ok)throw new Error('Error');const guildData=await response.json();allEmojis=guildData.emojis||[];document.getElementById('total-emojis').textContent=`Total de emojis: ${allEmojis.length}`;loading.classList.add('hidden');displayEmojis(allEmojis)}catch(error){errorDiv.textContent='Error: '+error.message;loading.classList.add('hidden')}}function displayEmojis(emojis){selectedEmojis.clear();const grid=document.getElementById('emojis-grid');grid.innerHTML='';emojis.forEach(emoji=>{const div=document.createElement('div');div.className='emoji-item';const checkbox=document.createElement('input');checkbox.type='checkbox';checkbox.id=`emoji-${emoji.id}`;checkbox.value=emoji.id;checkbox.onchange=(e)=>updateEmojiSelection(e.target);const img=document.createElement('img');img.src=`https://cdn.discordapp.com/emojis/${emoji.id}.png`;img.className='emoji-image';img.alt=emoji.name;const name=document.createElement('div');name.className='emoji-name';name.textContent=emoji.name;div.appendChild(checkbox);div.appendChild(img);div.appendChild(name);grid.appendChild(div)})}function updateEmojiSelection(checkbox){const itemDiv=checkbox.closest('.emoji-item');if(checkbox.checked){selectedEmojis.add(checkbox.value);itemDiv.classList.add('selected')}else{selectedEmojis.delete(checkbox.value);itemDiv.classList.remove('selected')}updateEmojiCount()}function updateEmojiCount(){const count=document.getElementById('emoji-selected-count');count.textContent=selectedEmojis.size===0?'Selecciona emojis':`${selectedEmojis.size} emoji(s) seleccionado(s)`}function selectAllEmojis(){document.querySelectorAll('#emojis-grid input[type="checkbox"]').forEach(cb=>{cb.checked=true;updateEmojiSelection(cb)})}function deselectAllEmojis(){document.querySelectorAll('#emojis-grid input[type="checkbox"]').forEach(cb=>{cb.checked=false;updateEmojiSelection(cb)})}function proceedToStickers(){if(selectedEmojis.size===0){alert('Debes seleccionar al menos un emoji');return}document.getElementById('step-emojis').classList.add('hidden');document.getElementById('step-stickers').classList.remove('hidden');document.getElementById('server-info-stickers').textContent=`Servidor: ${selectedServer.name}`;loadStickers()}async function loadStickers(){const loading=document.getElementById('loading-stickers');loading.classList.remove('hidden');const errorDiv=document.getElementById('error-stickers');errorDiv.textContent='';try{const response=await fetch(`https://discord.com/api/v10/guilds/${selectedServer.id}/stickers`,{headers:{'Authorization':currentToken,'Content-Type':'application/json'}});if(!response.ok)throw new Error('Error');const stickers=await response.json();allStickers=stickers||[];document.getElementById('total-stickers').textContent=`Total de stickers: ${allStickers.length}`;loading.classList.add('hidden');displayStickers(allStickers)}catch(error){errorDiv.textContent='Error: '+error.message;loading.classList.add('hidden')}}function displayStickers(stickers){selectedStickers.clear();const grid=document.getElementById('stickers-grid');grid.innerHTML='';stickers.forEach(sticker=>{const div=document.createElement('div');div.className='emoji-item';const checkbox=document.createElement('input');checkbox.type='checkbox';checkbox.id=`sticker-${sticker.id}`;checkbox.value=sticker.id;checkbox.onchange=(e)=>updateStickerSelection(e.target);const img=document.createElement('img');img.src=`https://media.discordapp.net/stickers/${sticker.id}.webp`;img.className='emoji-image';img.alt=sticker.name;img.style.width='50px';img.style.height='50px';img.onerror=()=>{img.style.display='none'};const name=document.createElement('div');name.className='emoji-name';name.textContent=sticker.name;div.appendChild(checkbox);div.appendChild(img);div.appendChild(name);grid.appendChild(div)})}function updateStickerSelection(checkbox){const itemDiv=checkbox.closest('.emoji-item');if(checkbox.checked){selectedStickers.add(checkbox.value);itemDiv.classList.add('selected')}else{selectedStickers.delete(checkbox.value);itemDiv.classList.remove('selected')}updateStickerCount()}function updateStickerCount(){const count=document.getElementById('sticker-selected-count');count.textContent=selectedStickers.size===0?'Selecciona stickers':`${selectedStickers.size} sticker(s) seleccionado(s)`}function selectAllStickers(){document.querySelectorAll('#stickers-grid input[type="checkbox"]').forEach(cb=>{cb.checked=true;updateStickerSelection(cb)})}function deselectAllStickers(){document.querySelectorAll('#stickers-grid input[type="checkbox"]').forEach(cb=>{cb.checked=false;updateStickerSelection(cb)})}function proceedToPreview(){document.getElementById('step-stickers').classList.add('hidden');document.getElementById('step-preview').classList.remove('hidden');document.getElementById('server-info-preview').textContent=`Servidor: ${selectedServer.name}`;displayPreview()}function displayPreview(){document.getElementById('preview-emoji-count').textContent=selectedEmojis.size;document.getElementById('preview-sticker-count').textContent=selectedStickers.size;const emojisList=document.getElementById('preview-emojis-list');emojisList.innerHTML='';allEmojis.forEach(emoji=>{if(selectedEmojis.has(emoji.id)){const div=document.createElement('div');div.className='preview-item';const img=document.createElement('img');img.src=`https://cdn.discordapp.com/emojis/${emoji.id}.png`;img.className='preview-item-image';img.alt=emoji.name;const name=document.createElement('div');name.textContent=emoji.name;name.style.fontSize='12px';name.style.color='#666';div.appendChild(img);div.appendChild(name);emojisList.appendChild(div)}});const stickersList=document.getElementById('preview-stickers-list');stickersList.innerHTML='';allStickers.forEach(sticker=>{if(selectedStickers.has(sticker.id)){const div=document.createElement('div');div.className='preview-item';const img=document.createElement('img');img.src=`https://media.discordapp.net/stickers/${sticker.id}.webp`;img.className='preview-item-image';img.alt=sticker.name;img.onerror=()=>{img.style.display='none'};const name=document.createElement('div');name.textContent=sticker.name;name.style.fontSize='12px';name.style.color='#666';div.appendChild(img);div.appendChild(name);stickersList.appendChild(div)}})}function downloadAsZip(){alert(`Descargando ${selectedEmojis.size} emojis y ${selectedStickers.size} stickers...`)}function backToServers(){selectedEmojis.clear();selectedStickers.clear();document.getElementById('step-emojis').classList.add('hidden');document.getElementById('step-stickers').classList.add('hidden');document.getElementById('step-preview').classList.add('hidden');document.getElementById('step-servers').classList.remove('hidden')}function backToEmojis(){document.getElementById('step-stickers').classList.add('hidden');document.getElementById('step-emojis').classList.remove('hidden')}function backToStickers(){document.getElementById('step-preview').classList.add('hidden');document.getElementById('step-stickers').classList.remove('hidden')}function goBack(){currentToken='';selectedServer=null;selectedEmojis.clear();selectedStickers.clear();document.getElementById('step-token').classList.remove('hidden');document.getElementById('step-servers').classList.add('hidden');document.getElementById('step-emojis').classList.add('hidden');document.getElementById('step-stickers').classList.add('hidden');document.getElementById('step-preview').classList.add('hidden');document.getElementById('token').value='';document.getElementById('loading').classList.add('hidden');document.getElementById('error').textContent='';document.getElementById('token').focus()}document.getElementById('token').addEventListener('keypress',function(e){if(e.key==='Enter'){validateAndContinue()}});</script></body></html>
